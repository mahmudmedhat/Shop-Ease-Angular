<section class=" bg-main-light rounded-4 my-4 p-2 shadow w-50 mx-auto">
  <h1 class="h2 text-main"> Register Now:</h1>

  <form [formGroup]="registerForm" (ngSubmit)="rgisterSubmit()"><!--bind 3l elname => ts registerForm-->
    <!-- -------------------------------------- name---------------------------------------------------------------------->

    <div class="my-2">
      <label for="name">name</label>
      <input formControlName="name" type="text" class="form-control" id="name" [ngClass]="{
        'is-valid': !registerForm.get('name')?.errors && (registerForm.get('name')?.touched && registerForm.get('name')?.dirty),
        'is-invalid': registerForm.get('name')?.errors && (registerForm.get('name')?.touched && registerForm.get('name')?.dirty),
      }">
      @if (registerForm.get("name")?.errors && registerForm.get("name")?.touched) {
      <div class="alert alert-danger my-1  w-50">
          @if (registerForm.get('name')?.getError('required')) {
            <p class="m-0">Name is required</p>

          }
          @else if (registerForm.get('name')?.getError('minlength')) {
            <p class="m-0">Name must more 3 char</p>
          }
             @else if (registerForm.get('name')?.getError('maxlength')) {
            <p class="m-0">Name must less 8 char</p>
          }

      </div>
      }
    </div>

    <!-- -------------------------------------- email---------------------------------------------------------------------->

    <div class="my-2">
      <label for="email">email</label>
      <input formControlName="email" type="email" class="form-control" id="email">

         @if (registerForm.get("email")?.errors && registerForm.get("email")?.touched) {
      <div class="alert alert-danger my-1  w-50">
          @if (registerForm.get('email')?.getError('required')) {
            <p class="m-0">email is required</p>

          }
          @else if (registerForm.get('email')?.getError('email')) {
            <p class="m-0">email is not valid</p>
          }
      </div>
      }
    </div>



    <!-- -------------------------------------- passowrd---------------------------------------------------------------------->

    <div class="my-2">
      <label for="passowrd">passowrd</label>
      <input formControlName="password" type="password " class="form-control" id="passowrd">

               @if (registerForm.get("password")?.errors && registerForm.get("password")?.touched) {
      <div class="alert alert-danger my-1  w-50">
          @if (registerForm.get('password')?.getError('required')) {
            <p class="m-0">pass is required</p>

          }
          @else if (registerForm.get('password')?.getError('pattern')) {
            <p class="m-0">pass is not valid</p>
          }
      </div>
      }
    </div>


    <!-- -------------------------------------- repassord---------------------------------------------------------------------->

    <div class="my-2">
      <label for="rePassword">repassowrd</label>
      <input formControlName="rePassword" type="password" class="form-control" id="rePassword">
@if (registerForm.getError('misMatch') && registerForm.get('rePassword')?.touched) {
  <p class="alert alert-danger">rePass not match</p>

}
    </div>

    <!-- -------------------------------------- phon---------------------------------------------------------------------->
    <div class="my-2">
      <label for="phon">phon</label>
      <input formControlName="phon" type="tel" class="form-control" id="phon">
                     @if (registerForm.get("phon")?.errors && registerForm.get("phon")?.touched) {
      <div class="alert alert-danger my-1  w-50">
          @if (registerForm.get('phon')?.getError('required')) {
            <p class="m-0">phon is required</p>

          }
          @else if (registerForm.get('phon')?.getError('pattern')) {
            <p class="m-0">phon is not valid</p>
          }
      </div>
      }


    </div>

    <!-- -------------------------------------- button---------------------------------------------------------------------->
    <button type="submit" class="btn-main my-2 ms-auto d-block"> Register @if (isLoding) { <i class="fas fa-spin fa-spinner"></i>}</button>
   @if (errMassage) {
     <p class="alert alert-danger p-0 text-center text-danger-emphasis m-0 w-50" >{{errMassage}}</p>

   }
        @if (sucssesMsg) {
         <p class="alert alert-danger p-0 text-center text-danger-emphasis m-0 w-50" >Register sucsses</p>

   }

  </form>
</section>
